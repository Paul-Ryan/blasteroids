!function(s){var t={};function e(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return s[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=s,e.c=t,e.d=function(s,t,o){e.o(s,t)||Object.defineProperty(s,t,{configurable:!1,enumerable:!0,get:o})},e.r=function(s){Object.defineProperty(s,"__esModule",{value:!0})},e.n=function(s){var t=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(t,"a",t),t},e.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)},e.p="",e(e.s=0)}([function(s,t,e){"use strict";e.r(t);const o={randomVec(s){const t=2*Math.PI*Math.random();return o.scale([Math.sin(t),Math.cos(t)],s)},scale:(s,t)=>[s[0]*t,s[1]*t],distance:(s,t)=>Math.sqrt(Math.pow(s.pos[0]-t.pos[0],2)+Math.pow(s.pos[1]-t.pos[1],2))};var i=o;var r=class{constructor(s){this.pos=s.pos,this.vel=s.vel,this.radius=s.radius,this.color=s.color,this.game=s.game}isCollidedWith(s){const t=this.radius+s.radius;return i.distance(this,s)<t}render(s){s.fillStyle=this.color,s.beginPath(),s.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!1),s.fill()}move(s){this.game.wrapPos(this.pos),this.pos[0]+=this.vel[0],this.pos[1]+=this.vel[1]}};const a={COLOR:"#7D2E68",RADIUS:30,SPEED:8};var h=class extends r{constructor(s={}){super(s),this.color=a.COLOR,this.radius=a.RADIUS,this.vel=s.vel||i.randomVec(a.SPEED)}};const n={COLOR:"#251351",RADIUS:10,SPEED:0};var c=class extends r{constructor(s={}){super(s),this.color=n.COLOR,this.radius=n.RADIUS,this.speed=n.SPEED}};class d{constructor(){this.asteroids=[],this.ships=[],this.addAsteroids(),this.addShips()}addAsteroids(){for(;this.asteroids.length<d.NUM_ASTEROIDS;){let s=new h({pos:this.randomPos(),game:this});this.asteroids.push(s)}}addShips(){const s=new c({pos:[300,300],game:this});console.log(s),this.ships.push(s)}allGameObjects(){return[].concat(this.asteroids,this.ships)}draw(s){s.clearRect(0,0,d.DIM_X,d.DIM_Y),this.allGameObjects().forEach(t=>t.render(s))}moveObjects(s){this.asteroids.forEach(t=>t.move(s))}checkCollisions(){for(let s=0;s<this.asteroids.length;s++)for(let t=0;t<this.asteroids.length;t++)if(s!==t&&this.asteroids[s].isCollidedWith(this.asteroids[t])){let e=this.asteroids[s],o=this.asteroids[t];this.remove(e),this.remove(o)}}randomPos(){return[Math.floor(Math.random()*(d.DIM_X+1)),Math.floor(Math.random()*(d.DIM_Y+1))]}remove(s){const t=this.asteroids.indexOf(s);-1!==t&&this.asteroids.splice(t,1)}step(s){this.moveObjects(s),this.checkCollisions()}wrapPos(s){s[0]<0?s[0]=d.DIM_X:s[0]>d.DIM_X&&(s[0]=s[0]%d.DIM_X),s[1]<0?s[1]=d.DIM_Y:s[1]>d.DIM_Y&&(s[1]=s[1]%d.DIM_Y)}}d.DIM_X=1e3,d.DIM_Y=600,d.NUM_ASTEROIDS=6;var l=d;var u=class{constructor(s,t){this.game=s,this.ctx=t}start(){setInterval(()=>{this.game.step(this.ctx),this.game.draw(this.ctx)},20)}};document.addEventListener("DOMContentLoaded",()=>{const s=document.querySelector("canvas"),t=s.getContext("2d");s.width=l.DIM_X,s.height=l.DIM_Y;const e=new l;new u(e,t).start()})}]);